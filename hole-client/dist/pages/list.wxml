
  <view class="main-list">
    <view class="ads"  wx:if="{{ ads.length > 0 && showAd }}">
      <navigator url="/pages/detail?id={{ ad.bid }}" open-type="navigate">
        <image src="{{ ad.image }}" class="ad-image"/>
      </navigator>
      <view class="close-btn" bindtap="closeAd">
        <image src="../assets/svgs/close-ad.svg"/>
      </view>
    </view>
    
  <view class="list-container">
    <navigator url="/pages/new" open-type="navigate" hover-class="newBtn-hover" hover-stay-time="200" class="newBtn">
      <image src="../assets/svgs/write.svg" class="newBtn-icon"/>
    </navigator>
    <navigator  wx:for="{{ $clist$list }}" wx:for-item="item" wx:key="{{ idx }}" wx:for-index="idx" url="/pages/detail?id={{ item.id }}" open-type="navigate" class="list-item">
      <view class="list-item-fixed" wx:if="{{ item.isFixed }}">置顶</view>
      <!-- User Info -->
      <view class="list-user">
        <view class="list-user-avatar">
          <image class="avatar" src="{{ item.user.avatar === '../../assert/avatar.png' ? '../assets/svgs/avatar/avatar.svg' : item.user.avatar }}">
          </image>
        </view>
        <view class="list-user-info">
          <view class="list-user-nickname">
            <text class="nickname">{{ item.user.nickname }}</text>
            <image wx:if="{{ item.user.isVerified }}" class="verify" src="../assets/svgs/person-v.svg">
            </image>
          </view>
          <text class="time-and-from">{{ item.time + ' 来自' + item.device }}</text>
        </view>
      </view>
      <!-- Blog Body -->
      <view class="list-item-body">
        <text class="list-item-body-content">{{ item.text }}</text>
        <view class="list-item-body-images" wx:if="{{ item.images.length !== 0 }}">
          <image wx:for-item="image" wx:for="{{ item.images }}" wx:for-index="i" wx:key="{{ i }}" catchtap="$clist$viewPic" src="{{ image }}" class="list-item-body-image" mode="aspectFill" data-wpyviewpic-a="{{ image }}" data-wpyviewpic-b="{{ item.images }}">
          </image>
        </view>
        <view class="list-item-location" wx:if="{{ item.location.locationName }}" catchtap="$clist$showLocation" data-wpyshowlocation-a="{{ item.location.latitude }}" data-wpyshowlocation-b="{{ item.location.longitude }}">
          <image class="location-icon" src="../assets/svgs/location.svg"/>
          <text>{{ item.location.locationName }}</text>
        </view>
      </view>
      <!-- Blog Operations -->
      <view class="list-item-operations" wx:if="{{ !$clist$isTest }}">
        <view catchtap="$clist$like" hover-class="list-item-operation-like-scale" class="list-item-operation-like" data-wpylike-a="{{ idx }}" data-wpylike-b="{{ item.id }}">
          <image class="list-item-operation-icon" src="{{ item.like ? '../assets/svgs/like-fill.svg' : '../assets/svgs/like.svg' }}"/>
          <text class="number {{ item.like ? 'active' : '' }}" wx:if="{{ item.likeNum !== 0 }}">{{ item.likeNum }}</text>
        </view>
        <navigator url="/pages/detail?id={{ item.id }}&focusComment=true" open-type="navigate" class="list-item-operation-comment">
          <image class="list-item-operation-icon" src="../assets/svgs/comment.svg"/>
          <text class="number" wx:if="{{ item.commentNum !== 0 }}">{{ item.commentNum }}</text>
        </navigator>
        <view catchtap="$clist$showMore" class="list-item-operation-more" wx:if="{{ item.user.isAdmin || item.user.isAuthor }}" data-wpyshowmore-a="{{ idx }}" data-wpyshowmore-b="{{ item.id }}">
          <image class="list-item-operation-icon" src="../assets/svgs/more.svg"/>
        </view>
      </view>
    </navigator>
  </view>

  </view>