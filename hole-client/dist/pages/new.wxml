
  <view class="new">
    <textarea class="textarea" auto-focus bindinput="inputChange" maxlength="-1" placeholder="写下你想丢给树洞的话吧~" placeholder-style="color: #999;">
    </textarea>
    <view class="image-list">
      <!-- preview the image which already be choosed -->
      <view class="choosed-image-list"  wx:for="{{ images }}" wx:for-item="image" wx:for-index="idx" wx:key="{{ idx }}">
        <image src="{{ image }}" mode="aspectFill" catchtap="previewImage" class="choosed-image" data-wpypreviewimage-a="{{ image }}" data-wpypreviewimage-b="{{ images }}"/>
        <view class="choosed-image-delete-btn" catchtap="deleteImage" data-wpydeleteimage-a="{{ idx }}">
          <image class="choosed-image-delete-btn-icon" src="../assets/svgs/delete.svg"/>
        </view>
      </view>
      <!-- image choosing btn -->
      <view class="choose-image-btn"  wx:if="{{ images.length < 9 }}" bindtap="chooseImage">
        <image class="choose-image-btn-icon" src="../assets/svgs/choose-image.svg">
        </image>
      </view>
    </view>
    <view class="isanonymous">
      <view class="location {{ location === '' ? '' : 'location-active' }}" catchtap="chooseLocation" catchlongtap="removeLocation">
        <image class="location-icon" src="../assets/svgs/location.svg"/>
        <text>{{ location === '' ? '点击添加位置' : location }}</text>
      </view>
      <view class="isanonymous-btn {{ isAnonymous ? 'anonymous' : 'named' }}" catchtap="anonymousChange">
        <text class="anonymous-text">匿名</text>
        <text class="named-text">实名</text>
        <view class="isanonymous-btn-key"/>
      </view>
    </view>
    <view class="submit-btn">
      <button type="primary" size="default" bindtap="send" class="submit" disabled="{{ disabled }}">
        发送
      </button>
    </view>
  </view>